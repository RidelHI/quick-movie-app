<section class="home-page">
  <header>
    <h1>Peliculas recientes</h1>
    <p>Demo: primeros 10 titulos de Now Playing.</p>
  </header>

  @if (!isAuthenticated()) {
    <p>Debes autenticarte para continuar.</p>
    <button type="button" (click)="login()">Conectar con TMDB</button>
  } @else {
    @if (loading()) {
      <p>Cargando...</p>
    } @else if (error()) {
      <p>{{ error() }}</p>
      <button type="button" (click)="reload()">Reintentar</button>
    } @else {
      <div class="movie-grid">
        @for (movie of nowPlaying(); track movie.id) {
          <article class="movie-card">
            @if (movie.posterPath) {
              <img
                [src]="'https://image.tmdb.org/t/p/w200' + movie.posterPath"
                [alt]="movie.title"
              />
            }
            <h3>{{ movie.title }}</h3>
          </article>
        }
      </div>
      <p><a routerLink="/auth">Configurar sesion</a></p>
    }
  }
</section>
